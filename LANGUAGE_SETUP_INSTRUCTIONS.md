# üåç –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–æ–¥–¥–µ—Ä–∂–∫–∏ —è–∑—ã–∫–æ–≤ –¥–ª—è push-—É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π

## üìã –ü—Ä–æ–±–ª–µ–º–∞
–û—à–∏–±–∫–∞: `column profiles.language does not exist`

## ‚úÖ –†–µ—à–µ–Ω–∏–µ

### 1. –í—ã–ø–æ–ª–Ω–∏—Ç–µ SQL-—Å–∫—Ä–∏–ø—Ç
–û—Ç–∫—Ä–æ–π—Ç–µ Supabase Dashboard ‚Üí SQL Editor –∏ –≤—ã–ø–æ–ª–Ω–∏—Ç–µ —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ —Ñ–∞–π–ª–∞ `ADD_LANGUAGE_COLUMN.sql`:

```sql
-- Add language column to profiles table
ALTER TABLE profiles 
ADD COLUMN IF NOT EXISTS language TEXT DEFAULT 'ru';

-- Create index for performance
CREATE INDEX IF NOT EXISTS idx_profiles_language ON profiles(language);

-- Set default language for existing users
UPDATE profiles 
SET language = 'ru' 
WHERE language IS NULL;
```

### 2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç
–ü–æ—Å–ª–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è —Å–∫—Ä–∏–ø—Ç–∞ –ø—Ä–æ–≤–µ—Ä—å—Ç–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—É —Ç–∞–±–ª–∏—Ü—ã:

```sql
SELECT column_name, data_type, is_nullable, column_default 
FROM information_schema.columns 
WHERE table_name = 'profiles' AND column_name = 'language';
```

### 3. –û–±–Ω–æ–≤–∏—Ç–µ —Å—Ç—Ä–∞–Ω–∏—Ü—É
–ü–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∏—Ç–µ –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å push-—É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π - –æ—à–∏–±–∫–∞ –¥–æ–ª–∂–Ω–∞ –∏—Å—á–µ–∑–Ω—É—Ç—å.

## üéØ –ß—Ç–æ –ø–æ–ª—É—á–∏—Ç–µ –ø–æ—Å–ª–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏

- ‚úÖ –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –ø–æ —è–∑—ã–∫–∞–º
- ‚úÖ –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ —è–∑—ã–∫–∞–º –≤ –¥–∞—à–±–æ—Ä–¥–µ  
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ —à–∞–±–ª–æ–Ω—ã –¥–ª—è —Ä–∞–∑–Ω—ã—Ö —è–∑—ã–∫–æ–≤
- ‚úÖ –¢–∞—Ä–≥–µ—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è

## üîß –í—Ä–µ–º–µ–Ω–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ
–ö–æ–¥ —É–∂–µ —Å–æ–¥–µ—Ä–∂–∏—Ç fallback-–ª–æ–≥–∏–∫—É:
- –ï—Å–ª–∏ –∫–æ–ª–æ–Ω–∫–∞ `language` –Ω–µ –Ω–∞–π–¥–µ–Ω–∞, –≤—Å–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ —Å—á–∏—Ç–∞—é—Ç—Å—è —Ä—É—Å—Å–∫–æ—è–∑—ã—á–Ω—ã–º–∏
- –°–∏—Å—Ç–µ–º–∞ –ø—Ä–æ–¥–æ–ª–∂–∏—Ç —Ä–∞–±–æ—Ç–∞—Ç—å –±–µ–∑ –æ—à–∏–±–æ–∫

## üìù –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —è–∑—ã–∫–æ–≤ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

–ü–æ—Å–ª–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –∫–æ–ª–æ–Ω–∫–∏ –≤—ã –º–æ–∂–µ—Ç–µ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å —è–∑—ã–∫–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π:

```sql
-- –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∞–Ω–≥–ª–∏–π—Å–∫–∏–π –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π —Å Gmail
UPDATE profiles SET language = 'en' 
WHERE email LIKE '%@gmail.com';

-- –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∏—Å–ø–∞–Ω—Å–∫–∏–π –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –∏–∑ –ò—Å–ø–∞–Ω–∏–∏
UPDATE profiles SET language = 'es' 
WHERE email LIKE '%@hotmail.es' OR email LIKE '%@yahoo.es';
```

## üöÄ –ì–æ—Ç–æ–≤–æ!
–ü–æ—Å–ª–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è SQL-—Å–∫—Ä–∏–ø—Ç–∞ —Å–∏—Å—Ç–µ–º–∞ push-—É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π –±—É–¥–µ—Ç –ø–æ–ª–Ω–æ—Å—Ç—å—é –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—Ç—å –º–Ω–æ–≥–æ—è–∑—ã—á–Ω–æ—Å—Ç—å. 