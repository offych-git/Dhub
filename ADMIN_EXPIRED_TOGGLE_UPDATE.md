# –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ AdminActions: –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞ "Expired"

**–î–∞—Ç–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è:** 2025-01-15

## ‚ú® –ß—Ç–æ –∏–∑–º–µ–Ω–∏–ª–æ—Å—å

### üîÑ **–ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞ –≤–º–µ—Å—Ç–æ —Ç–æ–ª—å–∫–æ —É—Å—Ç–∞–Ω–æ–≤–∫–∏**
- **–†–∞–Ω—å—à–µ:** –ö–Ω–æ–ø–∫–∞ —Ç–æ–ª—å–∫–æ —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–ª–∞ —Å—Ç–∞—Ç—É—Å "expired" 
- **–¢–µ–ø–µ—Ä—å:** –ö–Ω–æ–ø–∫–∞ –ø–µ—Ä–µ–∫–ª—é—á–∞–µ—Ç —Å—Ç–∞—Ç—É—Å (–≤–∫–ª—é—á–∞–µ—Ç/–≤—ã–∫–ª—é—á–∞–µ—Ç)

### üé® **–î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å**
- **–¶–≤–µ—Ç –∫–Ω–æ–ø–∫–∏:** 
  - üü† –û—Ä–∞–Ω–∂–µ–≤—ã–π - –µ—Å–ª–∏ —ç–ª–µ–º–µ–Ω—Ç –∞–∫—Ç–∏–≤–µ–Ω (–¥–ª—è —É—Å—Ç–∞–Ω–æ–≤–∫–∏ expired)
  - üü¢ –ó–µ–ª—ë–Ω—ã–π - –µ—Å–ª–∏ —ç–ª–µ–º–µ–Ω—Ç –∏—Å—Ç—ë–∫ (–¥–ª—è –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è)
- **–¢–µ–∫—Å—Ç –∫–Ω–æ–ø–∫–∏:**
  - "Mark as Expired" - –¥–ª—è –∞–∫—Ç–∏–≤–Ω—ã—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤
  - "Restore" - –¥–ª—è –∏—Å—Ç—ë–∫—à–∏—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤

## üîß –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è

### üìù **–ù–æ–≤—ã–π –ø—Ä–æ–ø—Å**
```typescript
interface AdminActionsProps {
  // ... existing props
  expiresAt?: Date | string | null; // –ù–û–í–´–ô –ø—Ä–æ–ø—Å
}
```

### üßÆ **–õ–æ–≥–∏–∫–∞ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è —Å—Ç–∞—Ç—É—Å–∞**
```typescript
// –ü—Ä–æ–≤–µ—Ä–∫–∞, –∏—Å—Ç—ë–∫ –ª–∏ —ç–ª–µ–º–µ–Ω—Ç
const isExpired = expiresAt ? new Date(expiresAt).getTime() < new Date().getTime() : false;
```

### ‚ö° **–§—É–Ω–∫—Ü–∏—è –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏—è**
```typescript
const handleToggleExpired = async () => {
  // –ï—Å–ª–∏ —ç–ª–µ–º–µ–Ω—Ç –∏—Å—Ç—ë–∫ - –≤–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º (expires_at = null)
  // –ï—Å–ª–∏ –Ω–µ –∏—Å—Ç—ë–∫ - –ø–æ–º–µ—á–∞–µ–º –∫–∞–∫ –∏—Å—Ç—ë–∫—à–∏–π (expires_at = —Ç–µ–∫—É—â–µ–µ –≤—Ä–µ–º—è)
  const newExpiresAt = isExpired ? null : new Date().toISOString();
  
  await supabase
    .from(tableName)
    .update({ expires_at: newExpiresAt })
    .eq('id', id);
};
```

## üìã –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

### **–û–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–π –≤—ã–∑–æ–≤ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞:**
```tsx
<AdminActions
  type="deal"
  id={deal.id}
  userId={deal.user_id}
  createdAt={deal.created_at}
  expiresAt={deal.expires_at} // –ù–û–í–´–ô –ø—Ä–æ–ø—Å!
  onAction={() => refetch()}
/>
```

### **–ü—Ä–∏–º–µ—Ä—ã —Å–æ—Å—Ç–æ—è–Ω–∏–π:**

#### üü¢ **–ê–∫—Ç–∏–≤–Ω—ã–π —ç–ª–µ–º–µ–Ω—Ç**
- `expires_at: null` –∏–ª–∏ `expires_at > now()`
- –ö–Ω–æ–ø–∫–∞: üü† "Mark as Expired"
- –î–µ–π—Å—Ç–≤–∏–µ: –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç `expires_at = now()`

#### üî¥ **–ò—Å—Ç—ë–∫—à–∏–π —ç–ª–µ–º–µ–Ω—Ç**
- `expires_at < now()`
- –ö–Ω–æ–ø–∫–∞: üü¢ "Restore"
- –î–µ–π—Å—Ç–≤–∏–µ: –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç `expires_at = null`

## üéØ –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞

1. **–ì–∏–±–∫–æ—Å—Ç—å:** –ê–¥–º–∏–Ω—ã –º–æ–≥—É—Ç –∫–∞–∫ –ø–æ–º–µ—á–∞—Ç—å —ç–ª–µ–º–µ–Ω—Ç—ã –∏—Å—Ç—ë–∫—à–∏–º–∏, —Ç–∞–∫ –∏ –≤–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—Ç—å –∏—Ö
2. **–ù–∞–≥–ª—è–¥–Ω–æ—Å—Ç—å:** –¶–≤–µ—Ç –∏ —Ç–µ–∫—Å—Ç –∫–Ω–æ–ø–∫–∏ —Å—Ä–∞–∑—É –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç —Ç–µ–∫—É—â–∏–π —Å—Ç–∞—Ç—É—Å
3. **–£–¥–æ–±—Å—Ç–≤–æ:** –ù–µ –Ω—É–∂–Ω–æ –∏—Å–∫–∞—Ç—å –æ—Ç–¥–µ–ª—å–Ω—É—é –∫–Ω–æ–ø–∫—É –¥–ª—è –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è
4. **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å:** –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –¥–µ–π—Å—Ç–≤–∏—è —Å –ø–æ–Ω—è—Ç–Ω—ã–º –æ–ø–∏—Å–∞–Ω–∏–µ–º

## üöÄ –°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å

- ‚úÖ **–û–±—Ä–∞—Ç–Ω–∞—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å:** –ï—Å–ª–∏ `expiresAt` –Ω–µ –ø–µ—Ä–µ–¥–∞–Ω, —Ñ—É–Ω–∫—Ü–∏—è —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–∞–∫ —Ä–∞–Ω—å—à–µ
- ‚úÖ **–í—Å–µ —Ç–∏–ø—ã:** –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç `deal`, `promo`, `sweepstakes`
- ‚úÖ **–ü—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞:** –°–æ—Ö—Ä–∞–Ω–µ–Ω—ã –≤—Å–µ –ø—Ä–æ–≤–µ—Ä–∫–∏ –ø—Ä–∞–≤ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞ 